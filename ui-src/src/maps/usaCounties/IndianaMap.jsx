import React, { useState, useMemo } from "react";
import useGameStore from "../../store";
import {
  getMapThemeColors,
  getRegionStyle,
  calculateHeatmapRange,
} from "../../utils/mapHeatmapUtils";
import "../JapanMap.css";

const COUNTY_DATA = {
  Adams: { gameId: "USA_IN_001", name: "Adams" },
  Allen: { gameId: "USA_IN_003", name: "Allen" },
  Bartholomew: { gameId: "USA_IN_005", name: "Bartholomew" },
  Benton: { gameId: "USA_IN_007", name: "Benton" },
  Blackford: { gameId: "USA_IN_009", name: "Blackford" },
  Boone: { gameId: "USA_IN_011", name: "Boone" },
  Brown: { gameId: "USA_IN_013", name: "Brown" },
  Carroll: { gameId: "USA_IN_015", name: "Carroll" },
  Cass: { gameId: "USA_IN_017", name: "Cass" },
  Clark: { gameId: "USA_IN_019", name: "Clark" },
  Clay: { gameId: "USA_IN_021", name: "Clay" },
  Clinton: { gameId: "USA_IN_023", name: "Clinton" },
  Crawford: { gameId: "USA_IN_025", name: "Crawford" },
  Daviess: { gameId: "USA_IN_027", name: "Daviess" },
  Dearborn: { gameId: "USA_IN_029", name: "Dearborn" },
  Decatur: { gameId: "USA_IN_031", name: "Decatur" },
  DeKalb: { gameId: "USA_IN_033", name: "DeKalb" },
  Delaware: { gameId: "USA_IN_035", name: "Delaware" },
  Dubois: { gameId: "USA_IN_037", name: "Dubois" },
  Elkhart: { gameId: "USA_IN_039", name: "Elkhart" },
  Fayette: { gameId: "USA_IN_041", name: "Fayette" },
  Floyd: { gameId: "USA_IN_043", name: "Floyd" },
  Fountain: { gameId: "USA_IN_045", name: "Fountain" },
  Franklin: { gameId: "USA_IN_047", name: "Franklin" },
  Fulton: { gameId: "USA_IN_049", name: "Fulton" },
  Gibson: { gameId: "USA_IN_051", name: "Gibson" },
  Grant: { gameId: "USA_IN_053", name: "Grant" },
  Greene: { gameId: "USA_IN_055", name: "Greene" },
  Hamilton: { gameId: "USA_IN_057", name: "Hamilton" },
  Hancock: { gameId: "USA_IN_059", name: "Hancock" },
  Harrison: { gameId: "USA_IN_061", name: "Harrison" },
  Hendricks: { gameId: "USA_IN_063", name: "Hendricks" },
  Henry: { gameId: "USA_IN_065", name: "Henry" },
  Howard: { gameId: "USA_IN_067", name: "Howard" },
  Huntington: { gameId: "USA_IN_069", name: "Huntington" },
  Jackson: { gameId: "USA_IN_071", name: "Jackson" },
  Jasper: { gameId: "USA_IN_073", name: "Jasper" },
  Jay: { gameId: "USA_IN_075", name: "Jay" },
  Jefferson: { gameId: "USA_IN_077", name: "Jefferson" },
  Jennings: { gameId: "USA_IN_079", name: "Jennings" },
  Johnson: { gameId: "USA_IN_081", name: "Johnson" },
  Knox: { gameId: "USA_IN_083", name: "Knox" },
  Kosciusko: { gameId: "USA_IN_085", name: "Kosciusko" },
  LaGrange: { gameId: "USA_IN_087", name: "LaGrange" },
  Lake: { gameId: "USA_IN_089", name: "Lake" },
  LaPorte: { gameId: "USA_IN_091", name: "LaPorte" },
  Lawrence: { gameId: "USA_IN_093", name: "Lawrence" },
  Madison: { gameId: "USA_IN_095", name: "Madison" },
  Marion: { gameId: "USA_IN_097", name: "Marion" },
  Marshall: { gameId: "USA_IN_099", name: "Marshall" },
  Martin: { gameId: "USA_IN_101", name: "Martin" },
  Miami: { gameId: "USA_IN_103", name: "Miami" },
  Monroe: { gameId: "USA_IN_105", name: "Monroe" },
  Montgomery: { gameId: "USA_IN_107", name: "Montgomery" },
  Morgan: { gameId: "USA_IN_109", name: "Morgan" },
  Newton: { gameId: "USA_IN_111", name: "Newton" },
  Noble: { gameId: "USA_IN_113", name: "Noble" },
  Ohio: { gameId: "USA_IN_115", name: "Ohio" },
  Orange: { gameId: "USA_IN_117", name: "Orange" },
  Owen: { gameId: "USA_IN_119", name: "Owen" },
  Parke: { gameId: "USA_IN_121", name: "Parke" },
  Perry: { gameId: "USA_IN_123", name: "Perry" },
  Pike: { gameId: "USA_IN_125", name: "Pike" },
  Porter: { gameId: "USA_IN_127", name: "Porter" },
  Posey: { gameId: "USA_IN_129", name: "Posey" },
  Pulaski: { gameId: "USA_IN_131", name: "Pulaski" },
  Putnam: { gameId: "USA_IN_133", name: "Putnam" },
  Randolph: { gameId: "USA_IN_135", name: "Randolph" },
  Ripley: { gameId: "USA_IN_137", name: "Ripley" },
  Rush: { gameId: "USA_IN_139", name: "Rush" },
  "St. Joseph": { gameId: "USA_IN_141", name: "St. Joseph" },
  Scott: { gameId: "USA_IN_143", name: "Scott" },
  Shelby: { gameId: "USA_IN_145", name: "Shelby" },
  Spencer: { gameId: "USA_IN_147", name: "Spencer" },
  Starke: { gameId: "USA_IN_149", name: "Starke" },
  Steuben: { gameId: "USA_IN_151", name: "Steuben" },
  Sullivan: { gameId: "USA_IN_153", name: "Sullivan" },
  Switzerland: { gameId: "USA_IN_155", name: "Switzerland" },
  Tippecanoe: { gameId: "USA_IN_157", name: "Tippecanoe" },
  Tipton: { gameId: "USA_IN_159", name: "Tipton" },
  Union: { gameId: "USA_IN_161", name: "Union" },
  Vanderburgh: { gameId: "USA_IN_163", name: "Vanderburgh" },
  Vermillion: { gameId: "USA_IN_165", name: "Vermillion" },
  Vigo: { gameId: "USA_IN_167", name: "Vigo" },
  Wabash: { gameId: "USA_IN_169", name: "Wabash" },
  Warren: { gameId: "USA_IN_171", name: "Warren" },
  Warrick: { gameId: "USA_IN_173", name: "Warrick" },
  Washington: { gameId: "USA_IN_175", name: "Washington" },
  Wayne: { gameId: "USA_IN_177", name: "Wayne" },
  Wells: { gameId: "USA_IN_179", name: "Wells" },
  White: { gameId: "USA_IN_181", name: "White" },
  Whitley: { gameId: "USA_IN_183", name: "Whitley" },
};

const countyPathData = {
  Wells:
    "m 549.16,223.67 17.34,-0.5 -1.25,-52.32 25.56,-0.44 14.09,-0.56 1.34,34.79 1.08,34.84 -20.17,0.64 -37.39,0.81 z",
  Tippecanoe:
    "m 299.12,244.04 25.91,0.24 23.37,-0.16 h 11.54 l 0.22,25.84 0.04,43.38 -60.66,0.05 0.06,-30.24 -0.23,-21.74 z",
  Jackson:
    "m 419.89,545.13 22.65,-0.16 14.32,-0.49 0.08,2.84 34.1,-1.39 2.03,-3.8 3.74,-2.02 3.75,0.18 1.27,51.98 -5.34,9.02 -1.7,4.3 -3.85,2.41 -3.43,-0.98 -11.39,-5.78 -2.44,2.38 -3.32,-1.65 -2.66,0.81 -4.02,-0.73 -3.09,-3.2 -2.32,0.5 -3.32,-1.5 -0.43,2.7 -5.57,1.35 -7.93,-4 -6.01,0.81 -2.96,2.72 -5,0.41 -1.2,-45.25 -5.76,0.08 z",
  Harrison:
    "m 430.82,669.74 34.86,0.6 0.24,17.33 h 2.86 l 0.08,5.75 2.98,0.15 0.52,5.58 2.94,-0.03 0.01,2.93 2.93,0.03 -0.27,14.3 9.03,-0.05 0.18,1.06 -1.27,3.78 0.6,14.44 -1.67,5.6 -1.37,7.81 -3.34,3.37 -4.78,0.39 -7.57,1.86 -1.53,2.64 0.21,3.33 -2.46,0.85 -2.38,-2.99 -2.34,-4.95 -3.94,-2.35 -3.81,-0.67 -7.6,1.26 -6.99,-3.51 -2.01,-2.26 -5.37,-3.37 -1.7,-5.1 -0.25,-3.64 1.34,-5.79 -2.7,-5.58 -6.74,-4.68 1.95,0.69 1.66,-4.86 1.81,-0.26 2.8,-4.68 0.25,-10.53 1.51,-3.18 -1.87,-8.83 0.85,-4.19 2.9,-8.96 z",
  Clay: "m 276.61,503.73 0.31,-52.09 6,0.16 0.19,-17.38 28.67,0.47 -0.2,26.14 11.51,0.03 -0.36,8.76 0.02,17.39 -17.21,-0.1 -0.13,34.76 -28.89,-0.75 z",
  Starke:
    "m 324.01,109.77 1.44,-1.65 7.55,-3.9 8.37,-1.81 4.68,-2.4 3.31,-4.42 3.2,-2.82 2.41,-7.71 2.39,-4.12 1.14,-4.32 4.32,-2.24 4.28,-3.78 17.68,-0.15 8.72,-0.08 0.31,52.11 -69.79,0.13 z",
  Washington:
    "m 427.05,601.84 5,-0.41 2.96,-2.72 6.01,-0.81 7.93,4 5.57,-1.35 0.43,-2.7 3.32,1.5 2.32,-0.5 3.09,3.2 4.02,0.73 2.66,-0.81 3.32,1.65 2.44,-2.38 11.39,5.78 0.84,31.67 5.8,-0.25 0.14,2.99 0.09,2.81 -2.94,0.05 0.09,5.71 -2.89,0.09 0.03,2.93 -11.32,0.44 0.17,2.59 -5.81,0.15 -0.04,13.98 -5.99,0.16 -34.86,-0.6 -8.41,0.04 -0.28,-49.54 -0.17,-3.28 -0.2,-8.48 2.72,-0.9 0.82,-3.99 z",
  Gibson:
    "m 197.39,671.61 6.84,-1.45 3.04,-1.95 3.17,-4.73 8.01,1.81 1.62,-0.78 4.08,-8.01 5.22,-0.3 -1.42,-3.78 1.99,-1.34 1.41,3.94 5.63,-1.29 2.82,-1.48 1.72,-3.96 0.01,13.34 2.82,0.06 -0.03,5.85 5.83,-0.02 -0.08,12.11 4.33,-1.55 4.25,-0.45 5.8,2.09 -0.22,25.73 -0.04,8.82 -23.55,0.02 -0.11,7.14 -34.79,-0.78 0.07,-6.49 -17.53,-0.31 0.12,-5.31 -29.01,-0.6 3.71,-1.32 1.63,-7.88 2.67,-3.78 4.01,0.75 -1.45,2.42 1.59,2.1 3.01,-3.1 1.25,-3.98 3.16,5.73 2.55,-0.27 2,-4.2 -0.12,-5.5 1.38,-3.77 2.75,-3.4 3.61,-1.11 z",
  Daviess:
    "m 298.54,574.48 9.87,0.3 20.43,-0.38 0.04,17.27 -2.92,0.06 -0.09,62.11 -2.44,2.06 -2.57,-1.67 -2.91,0.3 -3.01,-2.21 -4.92,1.13 -3.08,-0.69 -3.09,1.66 -1.19,-2.42 -2.98,-1.49 -2.54,-3.09 -4.34,3.69 -2.49,0.66 -0.99,-2.76 -2.8,-2.84 -4.95,-1.55 -2.17,2.56 -3.31,-1.22 0.68,-6.13 -1.48,-1.48 0.88,-7.3 -1.74,-2.33 1.84,-3.2 -2.08,-1.34 -1.93,-9.25 1.55,-4.2 -0.89,-1.69 2.82,-3.63 -2.02,-4 2.34,-2.1 0.47,-7.98 3.32,0.04 6.35,-2.21 1.18,-3.33 4.64,0.68 0.74,-5.66 z",
  Pike: "m 241.52,648.29 8.08,1.26 1.27,-2.96 3.04,0.74 0.28,3.47 3.21,-0.53 -1.35,-2.99 3.01,-0.7 7.59,6.23 2.54,-0.46 4.74,-2.74 2.16,-3.65 3.31,1.22 2.17,-2.56 4.95,1.55 2.8,2.84 0.99,2.76 2.49,-0.66 4.34,-3.69 2.54,3.09 2.98,1.49 -0.1,56.18 -25.12,0.31 -10.3,-0.17 0.03,-2.83 -2.94,-0.04 0.22,-25.73 -5.8,-2.09 -4.25,0.45 -4.33,1.55 0.08,-12.11 -5.83,0.02 0.03,-5.85 -2.82,-0.06 z",
  Ripley:
    "m 555.85,514.08 21.97,-14.89 12.03,-8.25 13.18,-0.67 10.41,0.41 -2.15,16.98 -5.27,43.96 -1.4,10.83 -0.44,3.69 -10.43,0.43 0.01,2.93 -37.65,0.89 -0.28,-17.46 z",
  Tipton:
    "m 429.09,281.13 -0.03,-5.82 58.02,-1.47 0.05,5.68 0.51,14.47 -0.01,17.29 -58.2,1.29 z",
  Lake: "m 280.1,32.59 0.33,23.33 -0.07,34.62 0.19,18.19 -1.14,1.3 -7.46,3.35 -7.35,6.44 -8.5,2.7 -1.94,1.93 -3.1,0.1 -4.07,-2.18 -12.84,1.33 0.12,-26.31 0.49,-57.28 0.31,-24.44 7.12,6.63 7.7,-2.93 2.4,3.96 -3.66,4.22 9.59,3.82 11.99,1.86 z",
  Henry:
    "m 532.22,365.03 -0.44,-26.17 26.42,-0.34 29,-0.66 0.44,14.44 1.84,-0.07 0.63,26.04 -3.04,0.11 0.3,16.96 -12.38,0.42 -45.42,1.04 -0.25,-17.21 3.05,-0.03 z",
  Huntington:
    "m 518.4,154.71 28.95,-1.09 17.6,-0.34 0.3,17.57 1.25,52.32 -17.34,0.5 -28.81,0.6 z",
  Union:
    "m 616.4,409.39 -0.04,-2.89 10,0.26 23.92,-0.55 0.84,40.78 -17.56,-0.06 -14.48,0.34 -2.06,-0.31 z",
  Knox: "m 232.54,574.63 43.84,0.3 0.01,-1.25 17.31,0.13 4.84,0.67 -5.78,6.37 -0.74,5.66 -4.64,-0.68 -1.18,3.33 -6.35,2.21 -3.32,-0.04 -0.47,7.98 -2.34,2.1 2.02,4 -2.82,3.63 0.89,1.69 -1.55,4.2 1.93,9.25 2.08,1.34 -1.84,3.2 1.74,2.33 -0.88,7.3 1.48,1.48 -0.68,6.13 -2.16,3.65 -4.74,2.74 -2.54,0.46 -7.59,-6.23 -3.01,0.7 1.35,2.99 -3.21,0.53 -0.28,-3.47 -3.04,-0.74 -1.27,2.96 -8.08,-1.26 -1.72,3.96 -2.82,1.48 -5.63,1.29 -1.41,-3.94 -1.99,1.34 1.42,3.78 -5.22,0.3 -4.08,8.01 -1.62,0.78 -8.01,-1.81 -3.17,4.73 -3.04,1.95 -6.84,1.45 1.89,-7.24 -3.75,-1.04 1.8,-4.25 4.8,-0.48 4.42,-2.36 2.14,-3.08 4.24,-0.52 -3.7,-6.32 2.92,-2.87 1.76,-3.55 2.62,-2.39 -0.67,-3.83 4.77,-11.9 10.34,-3.67 4.09,-10.13 1.52,-10.04 -4.87,-6.53 0.89,-1.68 -0.64,-4.43 -2.58,-3.57 -0.24,-4.44 z",
  Adams:
    "m 604.9,169.85 29.16,-1.27 11.8,-0.68 0.75,24.3 1.17,45.5 -40.46,1.78 -1.08,-34.84 z",
  Spencer:
    "m 311.3,713.95 11.79,0.12 23.75,-0.5 0.05,4.99 -1.79,1.94 1.17,2.59 -0.79,3.54 2,6.94 3.11,0.9 -1.98,4.33 2.13,4.27 -1.8,1.38 1.06,10.31 -2.88,-1.06 -3.62,1.1 -6.69,2.18 -7.24,8.15 -3.76,2.26 -8.39,0.99 -5.27,2.3 -5.18,4.85 0.3,5.14 -2.11,8.17 -2.05,5.18 -4.17,3.23 -5.32,-0.27 -1.87,-5.91 -3.67,-4.99 -8.79,-1.55 -7.68,-5.77 0.19,-9.39 6.68,-9.25 6.3,-4.94 2.74,-4.37 2.47,-1.01 -0.51,-3.59 1.29,-3.47 3.72,3.01 5.64,-1.15 -1.48,-1.92 0.96,-3.75 2.62,-3.63 0.77,-4.32 8.32,-0.05 z",
  Perry:
    "m 346.84,713.57 -0.13,-8.75 17.79,0.14 -0.1,-2.99 17.19,-0.73 -0.18,11.71 17.5,0.03 0.02,17.06 0.38,5.01 3.91,1.81 0.23,3.9 -3.04,3.34 -10.25,1.63 -1.19,2.95 0.04,11.88 2.9,6.31 -0.61,2.06 -3.65,1.83 -8.59,-0.77 -1.77,2.87 0.32,7.84 -1.02,1.82 -5.3,3.13 -3.17,-0.27 -0.68,-2.55 2.77,-7.55 -0.85,-3.15 -5.68,-0.46 -5.11,3.99 -2.05,-0.23 -3.1,-3.68 -4.59,-8.47 -2.49,-6.76 -2.84,-1.72 3.62,-1.1 2.88,1.06 -1.06,-10.31 1.8,-1.38 -2.13,-4.27 1.98,-4.33 -3.11,-0.9 -2,-6.94 0.79,-3.54 -1.17,-2.59 1.79,-1.94 z",
  Orange:
    "m 363.47,617.64 34.85,-0.61 0.7,0.22 22.94,-0.29 0.17,3.28 0.28,49.54 0.02,5.73 -22.41,-0.3 -36.03,0.54 -0.26,-26.21 z",
  Greene:
    "m 276.52,521.12 28.89,0.75 23.17,0.03 34.49,0.3 0.26,34.53 -0.01,17.47 -34.48,0.2 -20.43,0.38 -9.87,-0.3 -4.84,-0.67 -17.31,-0.13 z",
  Monroe:
    "m 370.99,486.08 v 1.23 l 25.66,0.34 12.95,-0.39 0.37,17.66 1.16,0.03 0.77,32.11 -0.09,8.22 8.08,-0.15 0.2,11.54 -56.76,0.06 -0.26,-34.53 -0.56,-33.91 2.79,1.29 2.78,-5.2 z",
  Cass: "m 376.85,174.49 17.1,0.1 34.21,-0.12 11.1,-0.26 0.3,8.73 0.07,24.4 0.96,36.03 -31.84,0.55 -0.08,-26.12 -23.01,0.17 -0.05,-8.57 -8.59,-0.01 0.1,-17.74 z",
  LaPorte:
    "m 323.45,15.58 3.52,-3.48 5.03,-2.2 7.55,-4.46 44.88,-0.06 -0.22,21.72 5.85,0.19 0.28,15.69 -1.75,1.9 0.05,5.91 -0.81,2.37 h -3.19 l 0.14,17.29 -17.68,0.15 -4.28,3.78 -4.32,2.24 -1.14,4.32 -2.39,4.12 -2.41,7.71 -3.2,2.82 -3.31,4.42 -4.68,2.4 -8.37,1.81 -7.55,3.9 -1.44,1.65 -0.12,-21.94 0.05,-37.69 -0.39,-16.18 z",
  Jefferson:
    "m 556.11,570.39 37.65,-0.89 0.42,23.27 0.76,21.09 -3.93,-2.87 -3.27,-5.1 -3.47,-1.6 -5.76,-0.16 -10.41,2.41 -5.95,-1.22 -4.04,1.79 -2.43,4.09 -0.4,5.21 2.7,4.49 0.02,9.52 1.83,4.98 -7.85,0.17 -2.79,-1.15 -0.08,-2.89 -11.47,0.31 -0.38,-14.4 -5.83,0.04 -0.17,-5.8 -5.79,0.06 -0.14,-4.35 -5.82,-1.28 -0.31,-15.66 -0.07,-1.69 11.46,-0.25 -0.16,-5.88 5.8,-0.09 -0.1,-5.76 5.67,-0.12 -0.22,-5.86 z",
  Blackford:
    "m 549.76,240.93 37.39,-0.81 0.41,17.48 -0.86,0.05 0.38,19.96 -1.99,0.07 -17.05,0.51 -17.18,0.15 z",
  Whitley:
    "m 516.22,96.46 17.39,-0.39 -0.03,5.8 34.53,-0.26 0.04,16.92 -4.33,0.11 1.13,34.64 -17.6,0.34 -28.95,1.09 -5.94,0.18 -0.29,-8.92 -0.78,-26.23 5.1,-0.11 z",
  Scott:
    "m 487.51,607.02 3.43,0.98 3.85,-2.41 1.7,-4.3 5.34,-9.02 3.53,-0.47 3.89,-2.57 3.79,-0.21 6.16,1.43 0.31,15.66 5.82,1.28 0.14,4.35 5.79,-0.06 0.17,5.8 5.83,-0.04 0.38,14.4 -28.15,0.5 -6.82,0.3 -4.28,5.92 0.09,2.78 -4.19,0.09 -0.14,-2.99 -5.8,0.25 z",
  Crawford:
    "m 363.99,675.75 36.03,-0.54 22.41,0.3 -0.02,-5.73 8.41,-0.04 0.55,3.29 -2.9,8.96 -0.85,4.19 1.87,8.83 -1.51,3.18 -0.25,10.53 -2.8,4.68 -1.81,0.26 -1.66,4.86 -1.95,-0.69 -4.44,-3.37 -2.52,1.11 -0.54,4.38 1.81,1.94 5.99,1.3 1.09,1.54 -3.02,3.86 -5.47,-0.53 -4.65,4.98 -3.88,-3.85 -4.95,0.85 -0.02,-17.06 -17.5,-0.03 0.18,-11.71 -17.19,0.73 z",
  Dearborn:
    "m 604.62,562.45 1.4,-10.83 5.27,-43.96 2.15,-16.98 38.14,-0.49 0.88,39.78 -6.16,5.6 -4.32,2.45 -1.16,2.63 3.11,4.25 -3.07,3.71 -2.27,-1.05 -4.76,2.28 -1.62,2.66 -6.79,-0.23 -1.35,3.8 -5.41,0.62 -2.52,3.51 -4.04,1.47 -1.97,3.16 -2.54,-0.07 z",
  Boone:
    "m 360.21,320.46 40.37,0.09 28.97,-0.99 0.73,50.73 -13.13,0.53 -21.85,0.41 -34.76,0.2 z",
  Grant:
    "m 486,225.07 34.35,-0.8 28.81,-0.6 0.6,17.26 1.1,37.41 -20.47,0.28 -43.26,0.9 -0.05,-5.68 -0.67,-31.6 z",
  Lawrence:
    "m 363.32,574.2 0.01,-17.47 56.76,-0.06 5.76,-0.08 1.2,45.25 -1.75,1.75 -0.82,3.99 -2.72,0.9 0.2,8.48 -22.94,0.29 -0.7,-0.22 -34.85,0.61 z",
  LaGrange:
    "m 513.52,3.96 52.5,-1.17 16.64,-0.28 1.42,46.48 -54.6,1.42 -14.43,0.52 z",
  Jennings:
    "m 517.77,527.62 18.7,-0.68 19.38,-12.86 -0.02,38.85 0.28,17.46 -14.53,0.41 0.22,5.86 -5.67,0.12 0.1,5.76 -5.8,0.09 0.16,5.88 -11.46,0.25 0.07,1.69 -6.16,-1.43 -3.79,0.21 -3.89,2.57 -3.53,0.47 -1.27,-51.98 -0.34,-12.02 z",
  Jay: "m 585.09,277.68 1.99,-0.07 -0.38,-19.96 0.86,-0.05 -0.41,-17.48 20.17,-0.64 40.46,-1.78 0.48,32.02 0.62,20.21 -32.6,1.02 -30.72,1.14 z",
  Rush: "m 529.57,396.8 45.42,-1.04 0.89,32.91 0.69,19.29 0.36,14.38 -51.27,1.03 -1.09,-34.44 -0.3,-14.5 -0.32,-17.47 z",
  Martin:
    "m 328.84,574.4 34.48,-0.2 0.15,43.44 0.26,31.9 -24.29,0.07 -1.04,2.25 -3.95,1.73 -1.48,2.31 -7.1,-2.06 0.09,-62.11 2.92,-0.06 z",
  Delaware:
    "m 530.39,278.62 20.47,-0.28 17.18,-0.15 17.05,-0.51 0.47,14.41 1.64,45.77 -29,0.66 -26.42,0.34 -0.53,-34.08 z",
  Warren:
    "m 233.46,261.01 48.66,0.4 h 17.25 l 0.23,21.74 -6.01,5.18 -5.89,1.14 -11.41,5.08 -0.68,1.92 -4.91,4.22 -2.3,4.54 -9.5,8.94 -5.29,1.54 -4.12,2.07 -2.91,5.28 1.52,3 3.27,1.71 0.09,2.92 -12.81,-0.04 0.01,-4.18 -6.28,0.03 z",
  Benton:
    "m 233.8,209.21 39.24,0.2 25.62,0.04 0.46,34.59 0.25,17.37 h -17.25 l -48.66,-0.4 z",
  Putnam:
    "m 311.78,434.89 0.51,-52.17 48.3,0.25 1.27,-0.01 0.12,46.69 7.04,0.05 -2.27,5.72 -0.44,4.42 1.31,5.4 -5.57,6.03 0.33,10.33 -39.29,-0.54 -11.51,-0.03 z",
  Newton:
    "m 234.15,123.7 12.84,-1.33 4.07,2.18 3.1,-0.1 1.94,-1.93 8.5,-2.7 7.35,-6.44 -0.22,61.19 1.12,-0.01 0.19,34.85 -39.24,-0.2 0.15,-23.25 z",
  Randolph:
    "m 585.56,292.09 30.72,-1.14 32.6,-1.02 0.48,60.79 -12.57,0.06 -35.86,1.27 -11.45,0.18 -1.84,0.07 -0.44,-14.44 z",
  Marshall:
    "m 454.5,60.59 0.13,8.64 0.35,17.75 1.05,34.57 -3.54,0.1 -11.34,0.24 -47.34,0.59 -0.31,-52.11 -0.13,-8.66 27.1,-0.67 z",
  Franklin:
    "m 576.57,447.96 26.71,-0.83 13.74,-0.17 2.06,0.31 14.48,-0.34 17.56,0.06 0.46,43.2 -38.14,0.49 -10.41,-0.41 -13.18,0.67 -12.03,8.25 -0.26,-16.65 -0.63,-20.2 z",
  Howard:
    "m 408.75,243.92 31.84,-0.55 45.82,-1.13 0.67,31.6 -58.02,1.47 0.03,5.82 -5.76,0.04 -0.04,-2.91 -4.34,0.04 -0.06,-8.64 -10.14,0.06 z",
  Montgomery:
    "m 299.54,313.39 60.66,-0.05 0.01,7.12 0.33,50.97 0.05,11.54 -48.3,-0.25 -12.61,-0.1 0.09,-17.08 -0.17,-17.14 z",
  Clark:
    "m 494.29,641.43 4.19,-0.09 -0.09,-2.78 4.28,-5.92 6.82,-0.3 28.15,-0.5 11.47,-0.31 0.08,2.89 2.79,1.15 7.85,-0.17 2.08,4.5 -0.93,6.12 -6.88,4.53 -4.86,8.57 -4.03,2.18 -9.57,1.66 -4.98,4.81 -2.2,6.15 -0.81,6.33 -2.49,8.02 -4.34,5.72 -8.92,5.63 -3.17,-0.77 -1.82,-2.68 -2.96,-0.4 -0.58,-7.37 2.25,-3.61 2.87,-1.56 -7.51,-9.9 0.03,-0.74 -24.93,0.46 -4.4,-1.39 -0.01,-1.48 0.04,-13.98 5.81,-0.15 -0.17,-2.59 11.32,-0.44 -0.03,-2.93 2.89,-0.09 -0.09,-5.71 2.94,-0.05 z",
  Vermillion:
    "m 232.38,326.5 6.28,-0.03 -0.01,4.18 12.81,0.04 -1.7,13.7 -2.71,6.41 0.64,11.04 -1.5,2.13 3.07,1.58 -2.08,3.43 4.39,4.86 3.83,1.39 1.7,2.69 -1.25,3.38 3.2,1.76 -1.61,4.35 -2.94,1.88 0.28,5.69 1.37,2.47 -0.93,5.11 0.51,4.11 -1.14,5.48 0.43,5.02 -2,6.91 0.3,4.64 1.51,5.47 -23.1,0.03 0.1,-52.72 z",
  Posey:
    "m 159.39,707.94 29.01,0.6 -0.12,5.31 17.53,0.31 -0.07,6.49 -0.14,8.7 -1.24,-0.03 -0.92,45.21 -3.62,1.11 -6.16,0.22 -3.78,2.8 -6.85,-0.03 -4.3,-4.86 -2.38,-4.07 -5.09,-0.82 -5.36,6.74 0.3,4.56 3.33,3.67 1.7,6.36 -0.49,2.02 -4.47,2.43 -1.55,3.96 -2.46,0.38 -2.56,-2.97 -9.64,-4.45 -3.51,1.69 -2.64,-0.71 -2.13,-2.44 0.71,-2.5 4.36,1.43 3.97,-0.35 -0.02,-3.49 -4.11,-1.4 -2.95,-6.08 -2.57,-2.93 1.41,-2.38 4.84,2.93 6.64,-0.65 -1.02,-3.6 -5.02,-0.65 -0.42,-3.51 3.84,0.71 -0.95,-5.32 2.52,-0.49 1.34,-3.51 -2.03,-6.03 1.44,-3.33 -2.7,-1.62 0.28,-3.92 4.93,0.09 5.4,-3.05 1.7,-3.79 -0.57,-2.57 -7,2.95 -1.87,-2.67 2.93,-2.21 3.62,-0.27 0.96,-4.12 3.77,0.86 2.75,-4.81 2.81,-3.1 -4.68,-1.7 -4.59,-3.4 -2.19,-3.47 z",
  Clinton:
    "m 360.2,313.34 -0.04,-43.38 34.46,0.04 14.13,-0.28 10.14,-0.06 0.06,8.64 4.34,-0.04 0.04,2.91 5.76,-0.04 0.34,31.44 0.12,6.99 -28.97,0.99 -40.37,-0.09 z",
  Marion:
    "m 417.15,370.82 13.13,-0.53 46.53,-0.73 0.07,11.42 -2.45,0.07 0.79,34.35 0.09,11.72 -45.89,1.43 -11.78,0.4 -0.67,-46.6 z",
  Noble:
    "m 515.05,50.93 14.43,-0.52 54.6,-1.42 1.44,52.24 -17.41,0.38 -34.53,0.26 0.03,-5.8 -17.39,0.39 -0.7,-28.3 z",
  Bartholomew:
    "m 455.38,485.95 20.67,-0.88 23.71,-0.88 17.69,-0.23 -0.06,17.66 0.38,26 -17.55,0.65 0.34,12.02 -3.75,-0.18 -3.74,2.02 -2.03,3.8 -34.1,1.39 -0.08,-2.84 0.12,-5.85 -0.75,-29.2 z",
  Jasper:
    "m 271.95,113.38 7.46,-3.35 1.14,-1.3 3.97,-4.61 9.22,-4.19 1.37,-0.02 9.39,3.36 7.33,5.69 6.46,4.23 5.72,-3.42 0.01,12.84 0.01,51.78 -8.58,0.06 0.17,14.8 -17.17,0.07 0.21,20.13 -25.62,-0.04 -0.19,-34.85 -1.12,0.01 z",
  Shelby:
    "m 475.31,427.12 -0.09,-11.72 28.28,-0.77 20.77,-0.2 0.3,14.5 1.09,34.44 0.13,20.43 -8.34,0.16 -17.69,0.23 -23.71,0.88 -0.3,-17.63 0.12,-11.82 z",
  Warrick:
    "m 240.53,721.43 0.11,-7.14 23.55,-0.02 0.04,-8.82 2.94,0.04 -0.03,2.83 10.3,0.17 25.12,-0.31 -0.01,5.73 8.75,0.04 0.02,16.98 -8.32,0.05 -0.77,4.32 -2.62,3.63 -0.96,3.75 1.48,1.92 -5.64,1.15 -3.72,-3.01 -1.29,3.47 0.51,3.59 -2.47,1.01 -2.74,4.37 -6.3,4.94 -6.68,9.25 -0.19,9.39 -8,-5.5 -3.97,-1.13 -6.38,-5.3 -4.4,-1.42 -5.97,0.7 0.28,-18.73 -3.65,-0.01 0.22,-17.25 z",
  Morgan:
    "m 366.75,435.42 29.46,-0.05 -0.09,-5.83 21.52,-0.59 11.78,-0.4 0.26,58.16 -20.08,0.55 -12.95,0.39 -25.66,-0.34 v -1.23 l -0.34,-24.55 -8.27,0.07 -0.33,-10.33 5.57,-6.03 -1.31,-5.4 z",
  Miami:
    "m 472.7,156.01 1.09,35 0.86,34.36 11.35,-0.3 0.41,17.17 -45.82,1.13 -0.96,-36.03 -0.07,-24.4 -0.3,-8.73 -0.1,-17.19 z",
  Brown:
    "m 409.6,487.26 20.08,-0.55 25.7,-0.76 0.85,23.48 0.75,29.2 -0.12,5.85 -14.32,0.49 -22.65,0.16 -8.08,0.15 0.09,-8.22 -0.77,-32.11 -1.16,-0.03 z",
  Fayette:
    "m 574.99,395.76 12.38,-0.42 5.79,-0.11 0.06,14.52 23.18,-0.36 0.62,37.57 -13.74,0.17 -26.71,0.83 -0.69,-19.29 z",
  Owen: "m 323.09,461.06 39.29,0.54 8.27,-0.07 0.34,24.55 -2.91,-1.7 -2.78,5.2 -2.79,-1.29 0.56,33.91 -34.49,-0.3 -23.17,-0.03 0.13,-34.76 17.21,0.1 -0.02,-17.39 z",
  Allen:
    "m 568.11,101.61 17.41,-0.38 25.86,-1.05 32.56,-1.76 1.92,69.48 -11.8,0.68 -29.16,1.27 -14.09,0.56 -25.56,0.44 -0.3,-17.57 -1.13,-34.64 4.33,-0.11 z",
  Carroll:
    "m 377.02,209.39 8.59,0.01 0.05,8.57 23.01,-0.17 0.08,26.12 v 25.8 l -14.13,0.28 -34.46,-0.04 -0.22,-25.84 H 348.4 l -0.52,-20.3 2.42,-0.06 -0.49,-6.7 2.09,-4.01 -0.06,-3.89 z",
  Johnson:
    "m 429.42,428.55 45.89,-1.43 0.56,28.5 -0.12,11.82 0.3,17.63 -20.67,0.88 -25.7,0.76 z",
  Sullivan:
    "m 220.24,503.45 56.37,0.28 -0.09,17.39 -0.13,52.56 -0.01,1.25 -43.84,-0.3 -0.53,-3.78 2.01,-6.89 -2.5,-3.19 -7.3,-2.98 1.07,-7.24 -1.58,-3.76 1.2,-3.05 -4.41,-4.83 -2.3,-0.24 -0.36,-4.33 -5.34,-0.54 1.53,-4.32 -2.41,-1.5 3.49,-6.51 2.66,-0.63 2.56,-3.82 2.56,-1.64 1.88,-3.73 -0.9,-7.34 z",
  Ohio: "m 604.18,566.14 0.44,-3.69 2.97,2.31 2.54,0.07 1.97,-3.16 4.04,-1.47 2.52,-3.51 5.41,-0.62 1.35,-3.8 6.79,0.23 1.62,-2.66 4.76,-2.28 2.27,1.05 3.07,-3.71 6.47,8.52 1.23,3.69 -0.77,2.3 -5.4,5.86 -1.27,2.64 1.34,2.85 -9.34,0.36 -32.6,0.29 z",
  White:
    "m 324.03,174.39 35.4,-0.07 17.42,0.17 0.27,17.16 -0.1,17.74 -25.18,-0.23 0.06,3.89 -2.09,4.01 0.49,6.7 -2.42,0.06 0.52,20.3 -23.37,0.16 -25.91,-0.24 -0.46,-34.59 -0.21,-20.13 17.17,-0.07 -0.17,-14.8 z",
  Hamilton:
    "m 429.43,312.57 58.2,-1.29 -0.02,17.12 0.68,37.73 0.06,2.92 -11.54,0.51 -46.53,0.73 -0.73,-50.73 z",
  Parke:
    "m 249.26,365.55 50.51,-0.01 -0.09,17.08 12.61,0.1 -0.51,52.17 -28.67,-0.47 -28.28,-0.23 -1.51,-5.47 -0.3,-4.64 2,-6.91 -0.43,-5.02 1.14,-5.48 -0.51,-4.11 0.93,-5.11 -1.37,-2.47 -0.28,-5.69 2.94,-1.88 1.61,-4.35 -3.2,-1.76 1.25,-3.38 -1.7,-2.69 -3.83,-1.39 -4.39,-4.86 z",
  Wayne:
    "m 589.48,352.23 11.45,-0.18 35.86,-1.27 12.57,-0.06 0.47,38.04 0.45,17.45 -23.92,0.55 -10,-0.26 0.04,2.89 -23.18,0.36 -0.06,-14.52 -5.79,0.11 -0.3,-16.96 3.04,-0.11 z",
  Fountain:
    "m 251.46,330.69 -0.09,-2.92 -3.27,-1.71 -1.52,-3 2.91,-5.28 4.12,-2.07 5.29,-1.54 9.5,-8.94 2.3,-4.54 4.91,-4.22 0.68,-1.92 11.41,-5.08 5.89,-1.14 6.01,-5.18 -0.06,30.24 0.06,35.01 0.17,17.14 -50.51,0.01 -3.07,-1.58 1.5,-2.13 -0.64,-11.04 2.71,-6.41 z",
  Madison:
    "m 487.63,311.28 0.01,-17.29 -0.51,-14.47 43.26,-0.9 0.86,26.16 0.53,34.08 0.44,26.17 -43.93,1.1 -0.68,-37.73 z",
  Wabash:
    "m 472.7,156.01 0.02,-8.71 22.6,-0.45 16.85,-0.88 0.29,8.92 5.94,-0.18 1.95,69.56 -34.35,0.8 -11.35,0.3 -0.86,-34.36 z",
  Hendricks:
    "m 360.54,371.43 34.76,-0.2 21.85,-0.41 -0.18,11.53 0.67,46.6 -21.52,0.59 0.09,5.83 -29.46,0.05 2.27,-5.72 -7.04,-0.05 -0.12,-46.69 -1.27,0.01 z",
  Vanderburgh:
    "m 205.74,720.65 34.79,0.78 -0.79,8.69 -0.22,17.25 3.65,0.01 -0.28,18.73 -7.24,5.93 -2.32,0.93 -6.26,-3.81 -3.27,-4.24 -0.54,-4.21 -4.08,-0.73 -0.65,4.21 -3.56,5.53 1.11,2.91 5.29,4.58 -0.53,5.23 -4,5.27 -4.82,1.18 -4.19,-0.66 -1.43,-5.35 2.38,-4.75 0.01,-3.17 -1.93,-1.44 -3.42,1.01 0.92,-45.21 1.24,0.03 z",
  DeKalb:
    "m 584.08,48.99 28.05,-0.86 30.28,-1.29 1.53,51.58 -32.56,1.76 -25.86,1.05 z",
  Steuben:
    "M 642.41,46.84 612.13,48.13 584.08,48.99 582.66,2.51 616.1,1.8 641.03,1 l 0.4,17.07 z",
  Pulaski:
    "m 324.02,122.61 69.79,-0.13 0.14,52.11 -17.1,-0.1 -17.42,-0.17 -35.4,0.07 z",
  Dubois:
    "m 302.66,652 1.19,2.42 3.09,-1.66 3.08,0.69 4.92,-1.13 3.01,2.21 2.91,-0.3 2.57,1.67 2.44,-2.06 7.1,2.06 1.48,-2.31 3.95,-1.73 1.04,-2.25 24.29,-0.07 0.26,26.21 0.41,26.22 0.1,2.99 -17.79,-0.14 0.13,8.75 -23.75,0.5 -11.79,-0.12 -8.75,-0.04 0.01,-5.73 z",
  Floyd:
    "m 465.68,670.34 5.99,-0.16 0.01,1.48 4.4,1.39 24.93,-0.46 -0.03,0.74 7.51,9.9 -2.87,1.56 -2.25,3.61 0.58,7.37 -4.12,1.13 -2.9,3.45 -0.39,5.09 -2.04,3.57 -4.34,3.76 -2.98,4.62 -0.18,-1.06 -9.03,0.05 0.27,-14.3 -2.93,-0.03 -0.01,-2.93 -2.94,0.03 -0.52,-5.58 -2.98,-0.15 -0.08,-5.75 h -2.86 z",
  "St. Joseph":
    "m 384.43,5.38 68.94,-0.85 0.52,21.71 0.61,34.35 -34.03,0.45 -27.1,0.67 0.13,8.66 -8.72,0.08 -0.14,-17.29 h 3.19 l 0.81,-2.37 -0.05,-5.91 1.75,-1.9 -0.28,-15.69 -5.85,-0.19 z",
  Porter:
    "m 280.1,32.59 9.06,-2.23 0.6,-1.23 8.84,-2.02 10.64,-4.57 14.21,-6.96 0.1,18.38 0.39,16.18 -0.05,37.69 0.12,21.94 -5.72,3.42 -6.46,-4.23 -7.33,-5.69 -9.39,-3.36 -1.37,0.02 -9.22,4.19 -3.97,4.61 -0.19,-18.19 0.07,-34.62 z",
  Kosciusko:
    "m 452.49,121.65 3.54,-0.1 -1.05,-34.57 -0.35,-17.75 31.16,-0.23 29.73,-0.84 0.7,28.3 0.27,23.17 -5.1,0.11 0.78,26.23 -16.85,0.88 -22.6,0.45 -11.04,0.34 -0.07,-8.81 -8.67,0.35 z",
  Hancock:
    "m 476.81,369.56 11.54,-0.51 -0.06,-2.92 43.93,-1.1 0.15,14.53 -3.05,0.03 0.25,17.21 -5.62,0.16 0.32,17.47 -20.77,0.2 -28.28,0.77 -0.79,-34.35 2.45,-0.07 z",
  Elkhart:
    "m 453.37,4.53 40.5,-0.25 19.65,-0.32 1.53,46.97 0.47,17.23 -29.73,0.84 -31.16,0.23 -0.13,-8.64 -0.61,-34.35 z",
  Fulton:
    "m 393.95,174.59 -0.14,-52.11 47.34,-0.59 11.34,-0.24 0.45,17.53 8.67,-0.35 0.07,8.81 11.04,-0.34 -0.02,8.71 -33.54,1.01 0.1,17.19 -11.1,0.26 z",
  Vigo: "m 231.73,434.22 23.1,-0.03 28.28,0.23 -0.19,17.38 -6,-0.16 -0.31,52.09 -56.37,-0.28 -0.69,-5.43 1.38,-1.37 -0.91,-3.49 2.63,-4.51 4.4,-0.98 2.31,-2.64 2.2,0.83 z",
  Switzerland:
    "m 593.76,569.5 -0.01,-2.93 10.43,-0.43 -0.59,5.27 32.6,-0.29 9.34,-0.36 11.1,1.84 2.2,1.71 -0.21,3.57 -5.34,5.14 -0.48,4.11 2.54,5.09 -4.05,1.67 -7.76,-1.78 -7.05,3.61 -9.2,0.01 -2.93,2.36 -9.4,5.28 -3.96,2.89 -5.97,5.56 -5.63,2.56 -4.45,-0.52 -0.76,-21.09 z",
  Decatur:
    "m 517.45,483.96 8.34,-0.16 -0.13,-20.43 51.27,-1.03 0.63,20.2 0.26,16.65 -21.97,14.89 -19.38,12.86 -18.7,0.68 -0.38,-26 z",
};

const countyOrderFromSVG = [
  "Wells",
  "Tippecanoe",
  "Jackson",
  "Harrison",
  "Clay",
  "Starke",
  "Washington",
  "Gibson",
  "Daviess",
  "Pike",
  "Ripley",
  "Tipton",
  "Lake",
  "Henry",
  "Huntington",
  "Union",
  "Knox",
  "Adams",
  "Spencer",
  "Perry",
  "Orange",
  "Greene",
  "Monroe",
  "Cass",
  "LaPorte",
  "Jefferson",
  "Blackford",
  "Whitley",
  "Scott",
  "Crawford",
  "Dearborn",
  "Boone",
  "Grant",
  "Lawrence",
  "LaGrange",
  "Jennings",
  "Jay",
  "Rush",
  "Martin",
  "Delaware",
  "Warren",
  "Benton",
  "Putnam",
  "Newton",
  "Randolph",
  "Marshall",
  "Franklin",
  "Howard",
  "Montgomery",
  "Clark",
  "Vermillion",
  "Posey",
  "Clinton",
  "Marion",
  "Noble",
  "Bartholomew",
  "Jasper",
  "Shelby",
  "Warrick",
  "Morgan",
  "Miami",
  "Brown",
  "Fayette",
  "Owen",
  "Allen",
  "Carroll",
  "Johnson",
  "Sullivan",
  "Ohio",
  "White",
  "Hamilton",
  "Parke",
  "Wayne",
  "Fountain",
  "Madison",
  "Wabash",
  "Hendricks",
  "Vanderburgh",
  "DeKalb",
  "Steuben",
  "Pulaski",
  "Dubois",
  "Floyd",
  "St. Joseph",
  "Porter",
  "Kosciusko",
  "Hancock",
  "Elkhart",
  "Fulton",
  "Vigo",
  "Switzerland",
  "Decatur",
];

function IndianaMap({
  onSelectCounty,
  selectedCountyGameId,
  heatmapData,
  viewType,
}) {
  const [hoveredCountyId, setHoveredCountyId] = useState(null);
  const [tooltipData, setTooltipData] = useState(null);
  const [mousePosition, setMousePosition] = useState({ x: 0, y: 0 });
  const currentTheme = useGameStore(
    (state) => state.availableThemes[state.activeThemeName]
  );

  const themeColors = getMapThemeColors(currentTheme);
  useMemo(
    () => calculateHeatmapRange(heatmapData, viewType),
    [heatmapData, viewType]
  );

  const getCountyStyle = (svgId) => {
    return getRegionStyle({
      regionId: null,
      svgId,
      regionData: COUNTY_DATA,
      heatmapData,
      viewType,
      theme: themeColors,
      hoveredId: hoveredCountyId,
      selectedId: selectedCountyGameId,
      isClickable: !!onSelectCounty,
    });
  };

  const handleCountyClick = (svgId) => {
    const county = COUNTY_DATA[svgId];
    if (county && onSelectCounty) {
      onSelectCounty(county.gameId, county.name);
    } else {
      console.warn(`No game data found for SVG ID: ${svgId}`);
    }
  };

  const handleMouseEnter = (svgId, event) => {
    const countyInfo = COUNTY_DATA[svgId];
    if (!countyInfo) return;

    setHoveredCountyId(countyInfo.gameId);

    if (viewType === "congressional_districts" && heatmapData?.mapData) {
      const mapDataItem = heatmapData.mapData.find(
        (item) => item.id === countyInfo.gameId
      );
      if (mapDataItem) {
        setTooltipData({
          name: countyInfo.name,
          isSplit: mapDataItem.isSplit,
          splitDetails: mapDataItem.splitDetails,
          districtLabel: mapDataItem.value,
        });
      }
    } else {
      setTooltipData({
        name: countyInfo.name,
        isSplit: false,
        splitDetails: null,
        districtLabel: null,
      });
    }

    setMousePosition({ x: event.clientX, y: event.clientY });
  };

  const handleMouseLeave = () => {
    setHoveredCountyId(null);
    setTooltipData(null);
  };

  const handleMouseMove = (event) => {
    setMousePosition({ x: event.clientX, y: event.clientY });
  };

  const renderCountyPath = (svgId) => {
    const countyInfo = COUNTY_DATA[svgId];
    if (!countyInfo) {
      console.warn(`No entry in COUNTY_DATA for SVG ID: ${svgId}`);
      return null;
    }

    const pathD = countyPathData[svgId];
    if (!pathD) {
      console.warn(`Path data (d attribute) missing for ${svgId}`);
      return null;
    }

    return (
      <path
        key={svgId}
        id={svgId}
        title={countyInfo.name}
        className={`prefecture-path ${
          selectedCountyGameId === countyInfo.gameId ? "selected" : ""
        }`}
        style={getCountyStyle(svgId)}
        onMouseEnter={(e) => handleMouseEnter(svgId, e)}
        onMouseLeave={handleMouseLeave}
        onMouseMove={handleMouseMove}
        onClick={() => handleCountyClick(svgId)}
        d={pathD}
      />
    );
  };

  return (
    <>
      <svg
        version="1.2"
        xmlns="http://www.w3.org/2000/svg"
        viewBox="0 0 530 810"
        className="interactive-japan-map"
        preserveAspectRatio="xMidYMid meet"
      >
        <g id="indiana-counties-group" stroke="white" strokeWidth="1">
          {countyOrderFromSVG.map((svgId) => renderCountyPath(svgId))}
        </g>
      </svg>
      {tooltipData && (
        <div
          style={{
            position: "fixed",
            left: mousePosition.x + 10,
            top: mousePosition.y - 10,
            backgroundColor: "rgba(0, 0, 0, 0.9)",
            color: "white",
            padding: "8px 12px",
            borderRadius: "4px",
            fontSize: "12px",
            pointerEvents: "none",
            zIndex: 1000,
            maxWidth: "250px",
            boxShadow: "0 2px 8px rgba(0, 0, 0, 0.3)",
          }}
        >
          <div style={{ fontWeight: "bold", marginBottom: "4px" }}>
            {tooltipData.name} County
          </div>

          {tooltipData.isSplit && tooltipData.splitDetails ? (
            <div>
              <div
                style={{
                  color: themeColors.selectedColor || "#ff6b35",
                  fontWeight: "bold",
                  marginBottom: "4px",
                }}
              >
                Split County
              </div>
              <div style={{ fontSize: "11px" }}>
                {tooltipData.splitDetails.map((detail, index) => (
                  <div key={index} style={{ marginBottom: "2px" }}>
                    District {detail.districtId}:{" "}
                    {detail.population.toLocaleString()} people
                  </div>
                ))}
              </div>
            </div>
          ) : (
            tooltipData.districtLabel && (
              <div style={{ fontSize: "11px" }}>
                {tooltipData.districtLabel}
              </div>
            )
          )}
        </div>
      )}
    </>
  );
}

export default IndianaMap;
