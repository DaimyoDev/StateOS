// ui-src/src/data/generalPolicyDefinitions.js

import { POLICY_AREAS } from "./policyAreas";

const MINIMUM_WAGE_POLICY = {
  id: "econ004_parameterized",
  name: "Set Minimum Wage",
  area: POLICY_AREAS.ECONOMY,
  description: "Establish or change the legal minimum wage. This can affect unemployment, business costs, and worker income.",
  tags: ["economy", "labor", "regulation", "minimum_wage", "parameterized"],
  baseSupport: {
    Socialist: 0.9,
    Progressive: 0.8,
    Liberal: 0.4,
    Centrist: -0.1,
    Conservative: -0.6,
    Libertarian: -0.8,
  },
  cost: { politicalCapital: 6 },
  durationToImplement: 2,
  isParameterized: true,
  setsSimulationVariable: true, 
  parameterDetails: {
    key: "wageRate",
    targetStat: "cityLaws.minimumWage", 
    adjustmentType: "set_value",
    valueType: "absolute_amount",
    min: 0,
    max: 50,
    step: 0.25,
    defaultValue: 15.00,
    unit: "$/hour",
    prompt: "Set the new minimum wage (per hour):",
  },
  effects: [
    {
      targetStat: "povertyRate",
      type: "percentage_point_change",
      change: -0.5, 
      chance: 0.8,
      delay: 3,
    },
    {
      targetStat: "overallCitizenMood",
      type: "mood_shift",
      change: 1,
      chance: 0.6,
      delay: 2,
    },
    {
      targetStat: "unemploymentRate",
      type: "percentage_point_change",
      change: 0.05, 
      chance: 0.2,
      delay: 6,
    },
  ],
};

export const GENERAL_POLICIES = [
  MINIMUM_WAGE_POLICY,
  {
    id: "econ001",
    name: "Tax Incentives for New Businesses",
    area: POLICY_AREAS.ECONOMY,
    description: "Offer tax breaks to attract new businesses to the area, aiming to create jobs and stimulate growth.",
    baseSupport: {
      Conservative: 0.7,
      Libertarian: 0.9,
      Liberal: 0.3,
      Nationalist: 0.2,
      Socialist: -0.5,
      Green: -0.2,
      Technocratic: 0.6,
    },
    cost: { budget: -300000, politicalCapital: 4 },
    durationToImplement: 3,
    effects: [
      {
        targetStat: "economicOutlook",
        change: 1,
        type: "level_change",
        chance: 0.6,
      },
      {
        targetStat: "unemploymentRate",
        change: -0.5,
        type: "percentage_point_change",
        chance: 0.5,
      },
      {
        targetStat: "budget.annualIncome",
        change: -300000,
        type: "absolute_change",
      },
    ],
  },
  {
    id: "econ002_parameterized",
    name: "Fund Job Training Programs",
    area: POLICY_AREAS.ECONOMY,
    description: "Invest a chosen amount in programs to help unemployed or underemployed citizens gain new skills for in-demand jobs.",
    tags: ["economic_development", "education", "social_services", "spending", "parameterized"],
    baseSupport: {
      Socialist: 0.8,
      SocialDemocrat: 0.7,
      Progressive: 0.6,
      Liberal: 0.4,
      Centrist: 0.3,
    },
    cost: { politicalCapital: 4 },
    durationToImplement: 3,
    isParameterized: true,
    parameterDetails: {
      key: "fundingAmount",
      targetBudgetLine: "socialWelfarePrograms",
      adjustmentType: "increase",
      valueType: "absolute_amount",
      min: 100000,
      max: 10000000,
      step: 1000,
      defaultValue: 400000,
      unit: "$",
      prompt: "Enter funding amount for Job Training Programs:",
    },
    effects: [
      {
        targetStat: "unemploymentRate",
        change: -0.3,
        type: "percentage_point_change",
        chance: 0.65,
        delay: 6,
      },
      {
        targetStat: "educationQuality",
        change: 1,
        type: "level_change",
        chance: 0.2,
        delay: 6,
      },
    ],
  },
  {
    id: "env001_parameterized",
    name: "Fund Recycling Program Expansion",
    area: POLICY_AREAS.ENVIRONMENT,
    description: "Invest a chosen amount to expand recycling services and public awareness campaigns.",
    tags: ["environment", "sustainability", "local_services", "spending", "parameterized"],
    baseSupport: { Green: 0.9, Progressive: 0.6, Liberal: 0.4, Centrist: 0.2 },
    cost: { politicalCapital: 3 },
    durationToImplement: 4,
    isParameterized: true,
    parameterDetails: {
      key: "fundingAmount",
      targetBudgetLine: "wasteManagement",
      adjustmentType: "increase",
      valueType: "absolute_amount",
      min: 50000,
      max: 10000000,
      step: 1000,
      defaultValue: 200000,
      unit: "$",
      prompt: "Enter funding for Recycling Program Expansion:",
    },
    effects: [
      {
        targetStat: "environmentRating",
        type: "conditional_level_change_by_param",
        change_direction: 1,
        base_change_for_default: 1,
        chance: 0.5,
      },
    ],
  },
  {
    id: "health001_parameterized",
    name: "Fund Public Health Awareness Campaigns",
    area: POLICY_AREAS.HEALTHCARE,
    description: "Invest a chosen amount in health awareness campaigns promoting healthy lifestyles, disease prevention, and vaccination drives.",
    tags: ["public_health", "preventative_care", "education", "awareness", "spending", "parameterized"],
    baseSupport: {
      Progressive: 0.7,
      Liberal: 0.6,
      SocialDemocrat: 0.6,
      Centrist: 0.4,
      Green: 0.5,
      Technocratic: 0.3,
    },
    cost: { politicalCapital: 2 },
    durationToImplement: 3,
    isParameterized: true,
    parameterDetails: {
      key: "fundingAmount",
      targetBudgetLine: "publicHealthServices",
      adjustmentType: "increase",
      valueType: "absolute_amount",
      min: 40000,
      max: 10000000,
      step: 1000,
      defaultValue: 180000,
      unit: "$",
      prompt: "Enter funding for Health Campaigns:",
    },
    effects: [
      {
        targetStat: "healthcareQuality",
        type: "conditional_level_change_by_param",
        change_direction: 1,
        base_change_for_default: 1,
        chance: 0.4,
        delay: 6,
      },
    ],
  },
  {
    id: "admin001_parameterized",
    name: "Fund Open Data Portal Initiative",
    area: POLICY_AREAS.CITY_ADMIN,
    description: "Invest a chosen amount to create or enhance a public online portal for government data, budgets, and performance metrics.",
    tags: ["governance", "transparency", "technology", "accountability", "parameterized"],
    baseSupport: {
      Technocratic: 0.8,
      Progressive: 0.7,
      Libertarian: 0.6,
      Liberal: 0.5,
      Centrist: 0.3,
    },
    cost: { politicalCapital: 3 },
    durationToImplement: 9,
    isParameterized: true,
    parameterDetails: {
      key: "fundingAmount",
      targetBudgetLine: "generalAdministration",
      adjustmentType: "increase",
      valueType: "absolute_amount",
      min: 30000,
      max: 10000000,
      step: 1000,
      defaultValue: 120000,
      unit: "$",
      prompt: "Enter funding for Open Data Portal:",
    },
    effects: [
      {
        targetStat: "budget.expenseAllocations.generalAdministration",
        change: 30000,
        type: "absolute_change_recurring",
        description_note: "Annual maintenance for the portal.",
      },
      {
        targetStat: "playerApproval",
        type: "conditional_approval_shift",
        chance: 0.4,
        ifPlayerProposer: true,
      },
    ],
  },
];